# إلهام - نظام إدارة المهام الذكي

نظام إدارة مهام متقدم مبني على الذكاء الاصطناعي مع واجهة دردشة تفاعلية.

## 🚀 الميزات الرئيسية

### ✅ المرحلة 1: الأساس الصلب
- ✅ **إضافة المهام الفردية**: الموظف يكتب مهمته وتحفظ تلقائياً
- ✅ **عرض مهامي**: عرض قائمة مرتبة بالمهام الشخصية
- ✅ **إكمال المهام**: إكمال المهام بزر تفاعلي
- ✅ **نظام الصلاحيات (RBAC)**: أدوار مختلفة (موظف، مدير، مسؤول)

### ✅ المرحلة 2: القوة عند الطلب
- ✅ **مشروع جديد (Modal)**: إنشاء مشاريع متعددة المهام مرة واحدة
- ✅ **RBAC محسن**: المدير يوزع المهام، الموظف يشوف مهامه فقط

### ✅ المرحلة 3: الرؤية الاستراتيجية
- ✅ **مهام الفريق**: المدير يشوف مهام فريقه بسهولة
- ✅ **لوحة التحكم (Dashboard)**: مؤشرات الأداء الرئيسية (مهام مكتملة، مهام متأخرة، إنتاجية)
- ✅ **التدريب الشخصي (Coaching)**: نصائح مخصصة لتطوير الأداء

### ✅ المرحلة 4: الأتمتة الكاملة
- ✅ **تقرير نهاية اليوم**: تقارير يومية آلية
- ✅ **محرك الشخصيات**: تغيير شخصية البوت (ودود/رسمي/صارم)
- ✅ **لوحة الإدارة**: إدارة شاملة للنظام

## 🛠️ التقنيات المستخدمة

- **Backend**: Node.js, Express.js
- **Database**: MongoDB Atlas
- **Frontend**: HTML5, CSS3, JavaScript (ES6+)
- **AI Integration**: OpenAI GPT API, CrewAI (Python)
- **Authentication**: Role-Based Access Control (RBAC)
- **UI/UX**: Responsive Design مع RTL دعم

## 📁 هيكل المشروع

```
elhem-system/
├── server.js           # خادم Node.js الرئيسي
├── package.json        # ملف إعدادات Node.js
├── index.html          # الصفحة الرئيسية
├── elhem.js           # منطق النظام الرئيسي
├── migrate.js         # أداة نقل البيانات (اختيارية)
├── crewai_agent.py     # وكلاء CrewAI لإدارة المهام
├── .env               # متغيرات البيئة (API keys)
└── README.md          # هذا الملف
```

## 🚀 كيفية التشغيل

### 1. تثبيت المتطلبات
```bash
npm install
```

### 2. تشغيل الخادم
```bash
npm start
```

### 3. فتح المتصفح
```
http://localhost:3000
```

### 4. تسجيل الدخول
استخدم أحد الحسابات التجريبية (كلمة المرور: 123456):

**المديرين:**
- **عماد** (E020) - مدير المالية

**الموظفين:**
- **غفران** (E008) - المبيعات
- **سمية** (E015) - سندس AI
- **يارا** (E019) - سندس AI
- **Test User** (EMP001) - IT

## 🤖 وكلاء CrewAI

تم إضافة وكلاء ذكاء اصطناعي باستخدام مكتبة CrewAI لإدارة المهام بشكل متقدم.

### تثبيت المتطلبات
```bash
python3 -m venv venv
source venv/bin/activate  # أو . venv/bin/activate على Linux
pip install crewai
```

### تشغيل وكلاء CrewAI
```bash
python3 crewai_agent.py
```

### صلاحيات الوكلاء

#### وكيل الموظف 👤
- **عرض المهام الشخصية**: `check my tasks`
- **تحديث حالة المهمة**: `update task T001 to in_progress`

#### وكيل المدير 👔
- **عرض مهام الفريق**: `show all team tasks`
- **تحديث أي مهمة**: `update task T001 status to completed`
- **عرض تقارير الأداء**: `show performance reports`

### مثال على الاستخدام
```python
from crewai_agent import run_employee_session, run_manager_session

# موظف يتحقق من مهامه
result = run_employee_session('E001', 'check my tasks')

# مدير يعرض مهام الفريق
result = run_manager_session('M001', 'show all team tasks')
```

## 💬 الأوامر المتاحة

### لجميع المستخدمين:
- `مهامي` - عرض المهام الشخصية
- `أضف مهمة: [وصف المهمة]` - إضافة مهمة جديدة
- `اكمل T001` - إكمال مهمة محددة
- `تقرير اليوم` - عرض تقرير نهاية اليوم
- `تدريب` - الحصول على نصائح تطويرية

### للمديرين والمسؤولين:
- `مهام الفريق` - عرض مهام الفريق
- `مشروع جديد` - إنشاء مشروع متعدد المهام
- `لوحة التحكم` - عرض مؤشرات الأداء
- `غير شخصيتك إلى ودود` - تغيير شخصية البوت
- `لوحة الإدارة` - فتح لوحة إدارة النظام

## 🎭 شخصيات البوت

### ودود 🤗
- أسلوب: ودود ومشجع
- مناسب ل: البيئات الودية والداعمة

### رسمي 💼
- أسلوب: رسمي ومهني
- مناسب ل: البيئات المهنية والرسمية

### صارم ⚡
- أسلوب: صارم ومباشر
- مناسب ل: البيئات التي تحتاج تركيز عالي

## 🔐 نظام الصلاحيات (RBAC)

| الدور | الصلاحيات |
|-------|-----------|
| **موظف** | عرض/إضافة/تحديث مهامه الشخصية |
| **مدير** | جميع صلاحيات الموظف + عرض مهام الفريق + إدارة المشاريع |
| **مسؤول** | جميع الصلاحيات + إدارة النظام + تغيير إعدادات البوت |

## 📊 مؤشرات الأداء الرئيسية

- **المهام المكتملة**: عدد المهام المكتملة
- **المهام النشطة**: عدد المهام قيد التنفيذ
- **المهام المتأخرة**: عدد المهام المتأخرة عن موعدها
- **مؤشر الإنتاجية**: نسبة المهام المكتملة من إجمالي المهام
- **متوسط التقييم**: متوسط تقييم الأداء

## 🔄 قاعدة البيانات MongoDB

النظام يستخدم MongoDB Atlas كقاعدة بيانات رئيسية مع مزامنة تلقائية:

### المجموعات (Collections):
- **teams**: بيانات الموظفين والمديرين
- **tasks**: بيانات المهام مع الصلاحيات
- **performance**: تقارير الأداء (قريباً)
- **config**: إعدادات النظام

### المزامنة التلقائية:
- البيانات تُحمل من MongoDB عند بدء الخادم
- التغييرات تُحفظ في MongoDB فوراً
- وكلاء CrewAI يعملون مع البيانات المزامنة

## 🛠️ التطوير والتخصيص

### إضافة شخصية جديدة:
```javascript
BOT_PERSONALITIES['جديد'] = {
  name: 'جديد',
  greeting: 'تحية من الشخصية الجديدة',
  style: 'وصف الأسلوب',
  prompt: 'تعليمات الذكاء الاصطناعي',
  responses: {
    success: 'رسالة النجاح',
    error: 'رسالة الخطأ',
    help: 'رسالة المساعدة'
  }
};
```

### إضافة أمر جديد:
```javascript
intentPatterns.new_command = ['كلمة مفتاحية', 'كلمة أخرى'];
```

## 📈 خطة التطوير المستقبلية

### المرحلة 5: الذكاء المتقدم
- [ ] تحليل أداء متقدم بالذكاء الاصطناعي
- [ ] تنبؤات ذكية للمواعيد
- [ ] اقتراحات آلية لتحسين الإنتاجية

### المرحلة 6: التكامل المتقدم
- [ ] تكامل مع تقويم Google
- [ ] إشعارات فورية
- [ ] تطبيق جوال

### المرحلة 7: التحليلات المتقدمة
- [ ] تقارير مفصلة بمرئيات
- [ ] تحليل اتجاهات الأداء
- [ ] مقارنات مع المعايير

## 🤝 المساهمة

نرحب بالمساهمات! يرجى:
1. إنشاء Fork للمشروع
2. إنشاء branch جديد للميزة
3. إضافة الكود مع التعليقات
4. إنشاء Pull Request

## 📄 الترخيص

هذا المشروع مرخص تحت رخصة MIT.

## 📞 الدعم

للأسئلة أو الدعم، يرجى إنشاء Issue في المشروع.

---

**تم تطوير إلهام بواسطة**: نظام إدارة مهام ذكي
**الإصدار**: 1.1.0 (MongoDB)
**تاريخ آخر تحديث**: 2025